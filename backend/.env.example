# ============================================
# AI Portfolio - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ============================================
# Application Settings
# ============================================
APP_NAME="AI Portfolio Platform"
APP_VERSION="0.1.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=True

# Server Configuration
API_HOST=0.0.0.0
API_PORT=8000

# ============================================
# Security
# ============================================
# Generate with: openssl rand -base64 32
SECRET_KEY=your-secret-key-here-generate-with-openssl
JWT_ALGORITHM=HS256
JWT_EXPIRATION=86400  # 24 hours in seconds

# Admin Credentials (Default - CHANGE IN PRODUCTION)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-password  # Will be hashed

# ============================================
# OpenAI API Configuration
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...your-key-here
OPENAI_MODEL=gpt-4-turbo-preview  # or gpt-3.5-turbo for lower cost
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# Cost Controls
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# ============================================
# MongoDB Atlas Configuration
# ============================================
# Get connection string from: https://cloud.mongodb.com
MONGODB_URL=mongodb+srv://username:password@cluster.mongodb.net/
MONGODB_DB_NAME=ai_portfolio
MONGODB_MAX_CONNECTIONS=10
MONGODB_MIN_CONNECTIONS=2

# ============================================
# Qdrant Cloud Configuration
# ============================================
# Get credentials from: https://cloud.qdrant.io
QDRANT_URL=https://your-cluster.cloud.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_PREFIX=portfolio  # Will create portfolio_{portfolio_id}

# Vector Search Settings
VECTOR_DIMENSION=1536  # OpenAI ada-002 embedding size
VECTOR_DISTANCE=cosine

# ============================================
# Rate Limiting & Cost Protection
# ============================================
# Session-based rate limiting (per visitor)
RATE_LIMIT_SESSION=10  # requests per session (browser)

# Daily budget protection
RATE_LIMIT_DAILY=100  # OpenAI requests per day
DAILY_BUDGET_ALERT_THRESHOLD=80  # Alert at 80% usage

# Monthly hard cap
RATE_LIMIT_MONTHLY=2000  # OpenAI requests per month
MONTHLY_BUDGET_ALERT_THRESHOLD=80  # Alert at 80% usage

# ============================================
# Caching Configuration
# ============================================
CACHE_ENABLED=True
CACHE_TTL=3600  # Cache expiration in seconds (1 hour)
CACHE_MAX_SIZE=1000  # Maximum number of cached responses

# ============================================
# CORS Settings
# ============================================
# Allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://yourdomain.com

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log
LOG_ROTATION=10 MB
LOG_RETENTION=7 days

# ============================================
# Email Alerts (Optional - for cost alerts)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL=admin@yourdomain.com

# ============================================
# Multi-Tenant Configuration
# ============================================
# Default portfolio for development
DEFAULT_PORTFOLIO_ID=your-portfolio-id  # Will be generated on first run
DEFAULT_PORTFOLIO_SUBDOMAIN=yourname  # yourname.yourplatform.com

# ============================================
# Feature Flags
# ============================================
ENABLE_ANALYTICS=False  # Enable later
ENABLE_ADMIN_CMS=False  # Week 6
ENABLE_BLOG=False  # Week 6
ENABLE_CONTACT_FORM=False  # Week 7